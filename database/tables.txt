CREATE DATABASE todo_app;

USE todo_app;

CREATE TABLE IF NOT EXISTS todo (
        id INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
        title VARCHAR(100) NOT NULL,
        description VARCHAR(100) NOT NULL,
        status BOOLEAN NOT NULL
        );

ALTER TABLE todo
ADD COLUMN priority ENUM('high', 'medium', 'low') NOT NULL DEFAULT 'medium',
ADD COLUMN due_date DATE,
ADD COLUMN category VARCHAR(50);

CREATE TABLE subtasks (
  id INT PRIMARY KEY AUTO_INCREMENT,
  todo_id INT,
  title VARCHAR(255) NOT NULL,
  completed BOOLEAN DEFAULT 0,
  FOREIGN KEY (todo_id) REFERENCES todo(id) ON DELETE CASCADE
);
